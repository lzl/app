<template name="logsPanel">
  <div class="col-sm-6 col-lg-4">
    <div class="item">
      <div class="panel panel-default">
        <div class="panel-heading full-width">
          <h1 class="panel-title">What I Learned <s>Today</s> These Days</h1>
        </div>
        <ul class="list-group">
          {{#if preview}}
            <li class="list-group-item no-margin">
              {{#markdown}}{{preview}}{{/markdown}}
            </li>
          {{/if}}

          {{#each logs}}
            {{> logItem}}
          {{/each}}

          <li class="list-group-item">
            <button type="button" class="btn btn-default btn-sm btn-block" data-action="more">Load more</button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>

<template name="logItem">
  <li class="list-group-item no-margin">
    {{#if isInRole 'admin'}}
      {{> logItemButtons}}
    {{/if}}
    <!-- <span class="pull-right timestamp"><code>{{timestamp createdAt}}</code></span> -->
    {{#markdown}}{{text}}{{/markdown}}
  </li>
</template>

<template name="logItemButtons">
  <div class="btn-group btn-group-xs pull-right" role="group" aria-label="...">
    <button type="button" class="btn btn-default" data-action="fork">copy</button>
    <button type="button" class="btn btn-default" data-action="remove">delete</button>
  </div>
</template>

<template name="logInsertForm">
  <div class="col-sm-6 col-lg-4">
    <div class="item">
      <div class="panel panel-default">
        <div class="panel-heading full-width">
          <h2 class="panel-title">New log</h2>
        </div>
        <div class="panel-body">
          <form role="form">
            <div class="form-group">
              <textarea type="text" class="form-control" id="logText" rows="5">{{logText}}</textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>
